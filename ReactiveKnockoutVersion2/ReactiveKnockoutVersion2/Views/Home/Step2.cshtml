<!-- Step 2 HTML Content -->
<h1>Employee System</h1>
<div class="text-secondary">
    Now instead of readonly data, we are hard-coding the data as editable.
    Any changes to a column are immediately sent up to the server and they are saved.
    Data is sent as a patch.  Just the ID that was changed, the property name, and the new value.
    Hitting the F5 key will reload the data and allow you to see that the changes are sticking.
</div>

<div class="DataInit" data-bind="visible: loading()">
    <img src="~/Images/loading.gif" alt="Loading Indicator" />
</div>
<div class="table-responsive">
    <table class="table employee-data" data-bind="visible: !loading()">
        <thead>
            <tr>
                <th>Id</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Position</th>
                <th>Salary</th>
                <th>Date Terminated</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: employees">
            <!-- Here we change the simple binding to make room for
                much more complicated binding later on.  We'll create
                scripts for readonly and edit modes.  One with td tags
                and the edit mode with input.  We hard code the mode
                to edit for now. -->
            <tr data-bind="template: { name: 'edit-mode', data: $data }"></tr>
        </tbody>
    </table>
</div>

<script type="text/html" id="readonly-mode">
    <td class="text-right" data-bind="text: Id"></td>
    <td data-bind="text: FirstName"></td>
    <td data-bind="text: LastName"></td>
    <td data-bind="text: Position"></td>
    <td class="text-right" data-bind="text: Salary"></td>
    <td class="text-right" data-bind="text: TerminationDate"></td>
</script>

<script type="text/html" id="edit-mode">
    <td class="text-right" data-bind="text: Id"></td>
    <td class="edit"><input class="form-control" data-bind="value: FirstName" /></td>
    <td class="edit"><input class="form-control" data-bind="value: LastName" /></td>
    <td class="edit"><input class="form-control" data-bind="value: Position" /></td>
    <td class="edit"><input class="form-control text-right" data-bind="value: Salary" /></td>
    <td class="edit"><input class="form-control text-right" data-bind="value: TerminationDate" /></td>
</script>

@section scripts {
    <script src="~/Scripts/knockout-3.4.2.js"></script>

    <!-- change the Employee View Model as you complete each step -->
    <script src="~/App/Step2/EmployeeViewModel.js"></script>
}

